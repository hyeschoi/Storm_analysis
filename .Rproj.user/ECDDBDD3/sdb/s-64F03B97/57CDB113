{
    "contents" : "---\ntitle: \"Final Project Report\"\nauthor: \"Hye Soo Choi\"\ndate: \"August 14, 2015\"\nheader-includes: \\usepackage{graphicx}\n                 \\usepackage{float}\noutput: \n    pdf_document:\n        fig_caption: false\n---\n-----\n\n## Data source\n\nIn this project, we analyzed the data about storms that hit North Atlantic(NA) and East Pacific(EP) from 1980 to 2010, in terms of location, wind speed, surface pressure, date of occurence, and duration. We used following storm data for these two basin :\n\n - [(ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/hurdat_format/basin/Basin.NA.ibtracs_hurdat.v03r06.hdat)](ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/hurdat_format/basin/Basin.NA.ibtracs_hurdat.v03r06.hdat),\n - [(ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/csv/basin/Basin.NA.ibtracs_wmo.v03r06.csv)](ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/csv/basin/Basin.NA.ibtracs_wmo.v03r06.csv),\n - [(ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/csv/basin/Basin.EP.ibtracs_wmo.v03r06.csv)](ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/csv/basin/Basin.EP.ibtracs_wmo.v03r06.csv),\n\n\nwhich can be obtained at the __International Best Track Archive for Climate Stewardship (IBTrACS)__  [(ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/cxml/year)](ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r06/wmo/cxml/year). \n\n-----\n\n## Data cleaning\n\nA cleaned data.frame, *storms*, was created by mainly using regular expressions to extract various pieces of data. After extracting the variables of interest and changing the variable formats, the final data include the following variables:\n\n - id: storm id (e.g. 1)\n - date: date (e.g. 11/13/2009)\n - duration: duration in day (e.g. 3)\n - name: name of the storm (ALLEN)\n\nA cleaned data.frame, *tracks*, was created by mainly using regular expressions to extract various pieces of data.\nAfter extracting the variables of interest and changing the variable formats, the final data include the following variables: \n\n - id: storm id (e.g. 1246)\n - date: date (e.g. 07/18/1980)\n - period: 00h, 06h, 12h, 18h (e.g. 00h)\n - stage: type of stage (e.g. cyclone)\n - lat: latitude (e.g. 30.5)\n - long: longitude, negative for west (e.g. -76.5)\n - wind: wind speed in knot (e.g. 25)\n - press: surface pressure in mb (e.g. 1020)\n\n\n```{r echo = FALSE, message= FALSE}\n# necessary packages\n#library(xtable)\nlibrary(readr)\n# library(sp)\n# library(gpclib)\n# library(ggplot2)\n# library(ggmap)\n# library(maptools)\n# library(maps)\nlibrary(knitr)\nlibrary(png)\nlibrary(grid)\n```\n\n\n```{r ,echo = FALSE}\n\nstorms <- read_csv('../data/storms.csv', col_names = TRUE)\ntracks <- read_csv('../data/tracks.csv', col_names = TRUE)\n```\n\nThe following displays the first 6 observations in the storms and tracks data.\n\n```{r head, eval = TRUE}\nhead(storms, 6)\nhead(tracks, 6)\n```\n\n-----\n\n## Data analysis\n\n\n```{r eval = TRUE, echo = FALSE}\n\nfreq.month.df <- read_csv('../data/freq_month.csv', col_names = TRUE)\nfreq.year.df <- read_csv('../data/freq_year.csv')\n```\n\nThe first exploratory analysis was performed with respect to the number of storms per year. More specifically, we conducted exploratory anayasis on the following variables.\n\n - Number of storms per year\n - Number of storms per year with wind speed >= 35 knots\n - Number of storms per year with wind speed >= 64 knots\n - Number of storms per year with wind speed >= 96 knots\n\nTo understand the distribution, we produced barplot for each variable.\n\n\n```{r fig.width = 3, fig.height= 3, echo = FALSE}\n\n\ngrid.raster(readPNG('../images/storm_year.png'))\ngrid.newpage()\ngrid.raster(readPNG('../images/wind35_year.png'))\n```\n\n```{r fig.width = 3, fig.height= 3, echo = FALSE }\ngrid.raster(readPNG('../images/wind64_year.png'))\ngrid.newpage()\ngrid.raster(readPNG('../images/wind96_year.png'))\n\n```\n\nWe can observe that storms were most frequent and violent in 2005.\n\n\nWe also examine the descriptive statistics of the variables. \nThe following table presents the summary statistics of the four variables. \n\n```{r echo = FALSE}\nsummary.stat <-function(x){\n  c(mean(x, na.rm = TRUE), sd(x, na.rm = TRUE),\n   min(x, na.rm = TRUE), max(x, na.rm = TRUE),\n  quantile(x, probs = c(0.25, 0.5, 0.75), na.rm = TRUE))\n}\n  \nsummary.year <- rbind(summary.stat(freq.year.df$count), summary.stat(freq.year.df$count.35),\n                      summary.stat(freq.year.df$count.64), summary.stat(freq.year.df$count.96))\ncolnames(summary.year) <- c('mean','sd','min','max','25%','50%','75%')\nrownames(summary.year) <- c('  ', '>= 35', '>= 64','>= 96')\nkable(summary.year, caption = 'Summary Statistic of annual number of storms by wind speed')\n```\n\n----\n\nThe second exploratory analysis was performed with respect to the number of storms per month. More specifically, we conducted exploratory anayasis on the following variables.\n\n - Number of storms per month\n - Number of storms per month with wind speed >= 35 knots\n - Number of storms per month with wind speed >= 64 knots\n - Number of storms per month with wind speed >= 96 knots\n\nThe follwing table presents the number of storms per month.\n\n```{r  results='asis', echo = FALSE, message = FALSE}\nkable(freq.month.df, caption = 'Number of storms per month' )\n\n```\n\nTo understand the distribution, we also produced barplot for each variable.\n\n\n```{r fig.width = 4, fig.height= 3, echo = FALSE}\n\nlibrary(png)\nlibrary(grid)\ngrid.raster(readPNG('../images/storm_month.png'))\ngrid.newpage()\ngrid.raster(readPNG('../images/wind35_month.png'))\n```\n\n```{r fig.width = 4, fig.height= 3, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/wind64_month.png'))\ngrid.newpage()\ngrid.raster(readPNG('../images/wind96_month.png'))\n```\n\nWe can see that this graph is bell-shaped, and there has been most frequent and violent storms around september.\n\n------\n\n\n## Regression Analysis\n\nTo estimate the relationship between wind speed and pressure for storms, we used linear regression. For each storm, mean(median) of wind speed and pressure is calculated and plotted, and then the linear regression line is drawn on the scatter plot of wind speed and pressure. To improve prediction accuracy, we removed storms whose mean(median) pressure is zero in our regression analysis.\n\n```{r fig.width = 4, fig.height= 3, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/regression_mean_pw.png'))\ngrid.newpage()\ngrid.raster(readPNG('../images/regression_median_pw.png'))\n```\n\nAlthough more outliers are present, residual values seem to be smaller in the scattor plot of mean wind speed and mean pressure than in the scatter plot of median wind speed and median pressure. We can observe that wind speed and pressure has strong negative linear relationship in both scatter plots. \n\n------\n\n## Visualization\n\nThe third part of the project consists of visualizing the trajectory of the storms in both the East Pacific (EP) and the North Atlantic (NA) basins, for the period 1980-2010. \n\nWe produced a world map with spatial distribution of storm activity. The color of data points reflects storm intensity; the higher wind speed was, the darker blue a point is colored on the map.\n\n```{r fig.width = 7, fig.height = 6, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/EPNAmap.png'))\n```\n\nTo be more specific, we draw world map with spatial distribution of storms in different decades: 1980s, 1990s, 2000s.\n\nIn 1980s, storm trajectories for each year is drawn as follows.\n\n```{r fig.width = 8, fig.height= 7, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/EPNAmap_1980s.png'))\n```\n\nIn 1990s, storm trajectories for each year is drawn as follows.\n\n```{r fig.width = 8, fig.height= 7, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/EPNAmap_1990s.png'))\n```\n\nIn 2000s, storm trajectories for each year is drawn as follows.\n\n```{r fig.width = 8, fig.height= 7, echo = FALSE}\ngrid.newpage()\ngrid.raster(readPNG('../images/EPNAmap_2000s.png'))\n```\n\nAlthough, the trajectories varies from year to year, We can see simlilar path of storms throughout decades:\n\n - Across North Atalantic basin, storms generally move westward with a slight tend toward the north.\n - Across East Pacific, storms generally move eastward with a slight tend toward the north.\n - High wind speed, higher than 100 knots, usually occurs in latitude between 10° and 30°.\n\nWe also produced the storm trajectories for each month.\n\n```{r fig.width = 7, fig.height= 7, echo = FALSE}\ngrid.raster(readPNG('../images/EPNAmap_month.png'))\n```\n\nAs shown from the barplot of number of storms per month, there has been most frequent and violent in September, and secondly in August. In January, Febraury, and March, storms rarely occurs.\n",
    "created" : 1439595003888.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1395583580",
    "id" : "57CDB113",
    "lastKnownWriteTime" : 1439618892,
    "path" : "~/Downloads/Final_project 2/report/report.Rmd",
    "project_path" : "report/report.Rmd",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "type" : "r_markdown"
}